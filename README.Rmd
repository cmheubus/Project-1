---
title: "ST 558 - Project 1 - Christine Marie Heubusch"
output: 
  html_document: 
    toc: yes
    toc_depth: 2
author: "Christine Marie Heubusch"
date: "June 12, 2020"
---

# Understanding JSON Data

## What is JSON data?
JavaScript Object Notation (JSON) is ... 

What is it, where does it get used, and why is it a good way to store data? This should be detailed enough that someone that hasn’t seen JSON data would have a good idea what they are dealing with. You should link to references where applicable.

## Packages Used for Reading JSON Data
Discuss the possible packages/functions that are available for reading JSON data into R. (There are three major packages for JSON data.) Choose one and explain why you’ve chosen it.

# Contacting the NHL API
```{r Loading Packages, messages=FALSE}
library(httr)
library(jsonlite) 
library(tidyverse)
```

```{r Creating Function for Accessing Franchise}
# MUST FIGURE OUT HOW TO GET RID OF THE ARRAY NAME? Data. 
api_function_franchise <- function(x) {
  base_url <- "https://records.nhl.com/site/api" 
  x <- "franchise"
  full_url <- paste0(base_url, "/", x) 
  franchise_get <- GET(full_url) 
  franchise_txt <- content(franchise_get, "text") 
  franchise_json <- fromJSON(franchise_txt, flatten=TRUE)
  franchise_df <- as.data.frame(franchise_json)
  return(franchise_df)
}
api_function_franchise(x)
```

```{r Creating Function for Accessing Team Totals}
api_function_totals <- function(x) {
  base_url <- "https://records.nhl.com/site/api" 
   x <- "franchise-team-totals"
  full_url <- paste0(base_url, "/", x) 
  team_totals_get <- GET(full_url) 
  team_totals_txt <- content(team_totals_get, "text") 
  team_totals_json <- fromJSON(team_totals_txt, flatten=TRUE)
  team_totals_df <- as.data.frame(team_totals_json)
  return(team_totals_df)
}
api_function_totals(x)
```

```{r Creating Function for Accessing Season Records}
api_function_season <- function(ID) {
  base_url <- "https://records.nhl.com/site/api" 
  full_url <- paste0(base_url, "/", "franchise-season-records?cayenneExp=franchiseId=", ID) 
  season_get <- GET(full_url) 
  season_txt <- content(season_get, "text") 
  season_json <- fromJSON(season_txt, flatten=TRUE)
  season_df <- as.data.frame(season_json)
  return(season_df)
}
api_function_season(1) #Testing the function 
```

```{r Creating Function for Accessing Goalie Records}
api_function_goalie <- function(ID) {
  base_url <- "https://records.nhl.com/site/api" 
  full_url <- paste0(base_url, "/", "franchise-season-records?cayenneExp=franchiseId=", ID) 
  goalie_get <- GET(full_url) 
  goalie_txt <- content(goalie_get, "text") 
  goalie_json <- fromJSON(goalie_txt, flatten=TRUE)
  goalie_df <- as.data.frame(goalie_json)
  return(goalie_df)
}
api_function_goalie(1) #Testing the function 
```

```{r Creating Function for Accessing Skater Records}
api_function_skater <- function(ID) {
  base_url <- "https://records.nhl.com/site/api" 
  full_url <- paste0(base_url, "/", "franchise-season-records?cayenneExp=franchiseId=", ID) 
  skater_get <- GET(full_url) 
  skater_txt <- content(skater_get, "text") 
  skater_json <- fromJSON(skater_txt, flatten=TRUE)
  skater_df <- as.data.frame(skater_json)
  return(skater_df)
}
api_function_skater(1) #Testing the function 
```

# Exploring Exploratory Data Analysis

```{r}

```

MUST: 
* Create a new variable at some point  
* Create some contingency tables and numeric summaries for some of your categorical variables
* Create some plots (_at least_ a side-by-side bar plot, side-by-side box plots, and scatter plots with coloring)

